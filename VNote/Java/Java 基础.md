# Java基础

## 数据类型

**常量**： 字面量常量、自定义常量

**变量** ：

1. 局部变量：形参和定义在方法中的变量，保存在栈帧中，随方法消失而消失；
2. 成员变量：定义在类中，存在堆中，随对象被回收而消失。

**基本数据类型**：byte short int long float double boolean char

| 基本数据类型 | 字节 | 位 | 默认值  |
| ----------------- | ------ | ---- | --------- |
| byte               | 1      | 8    | 0          |
| short              | 2      | 16 | 0          |
| int                  | 4      | 32 | 0          |
| long               | 8      | 64 | 0L        |
| float               | 4      | 32 | 0.0F     |
| double           | 8      | 64 | 0.0       |
| boolean         | -       | -    | false     |
| char               | 2      | 16 | 'u0000' |

boolean的大小 JVM 规范并没有指定。在 JVM 规范中，boolean 变量作为 int 处理，也就是4字节；boolean 数组当做 byte 数组处理，也就是1个字节。

char 采用unicode编码，可以数据类型可以储存任何字符，包括汉字（1个）：char a = '张';

整型默认为int，long必须要加后缀L；浮点型默认double，float后缀必须要加F。

**引用数据类型：** 类、接口、数组



## 1. 重载和重写区别

**重载**： 发生在同一个类中，方法名必须相同，参数类型不同、个数不同、顺序不同，方法返回值和访问修饰符可以不同，发生在编译时。 　　

**重写**： 发生在父子类中，方法名、参数列表必须相同，返回值范围小于等于父类，抛出的异常范围小于等于父类，访问修饰符范围大于等于父类；如果父类方法访问修饰符为 private 则子类就不能重写该方法。

## 2. String

**可变性** String 类中使用 final 关键字字符数组保存字符串，private final char value[]，所以 String 对象是不可变的。而StringBuilder 与 StringBuffer 都继承自 AbstractStringBuilder 类，在 AbstractStringBuilder 中也是使用字符数组保存字符串char[]value 但是没有用 final 关键字修饰，所以这两种对象都是可变的。

**线程安全性** String 中的对象是不可变的，也就可以理解为常量，线程安全。StringBuffer 对方法加了同步锁或者对调用的方法加了同步锁，所以线程安全。StringBuilder 并没有对方法进行加同步锁，所以非线程安全。

**性能** 每次对 String 类型进行改变的时候，都会生成一个新的 String 对象，然后将指针指向新的 String 对象。StringBuffer 每次都会对 StringBuffer 对象本身进行操作，而不是生成新的对象并改变对象引用。相同情况下使用 StirngBuilder 相比使用 StringBuffer 仅能获得 10%~15% 左右的性能提升，但却要冒多线程不安全的风险。

**对于三者使用的总结：**

1. 操作少量的数据 = String
2. 单线程操作字符串缓冲区下操作大量数据 = StringBuilder
3. 多线程操作字符串缓冲区下操作大量数据 = StringBuffer

## 3. == 与 equals

**==** : 它的作用是判断两个对象的地址是不是相等。即，判断两个对象是不是同一个对象。(基本数据类型==比较的是值，引用数据类型==比较的是内存地址)

**equals()** : 它的作用也是判断两个对象是否相等。但它一般有两种使用情况：

- 情况1：类没有覆盖 equals() 方法。则通过 equals() 比较该类的两个对象时，等价于通过==比较这两个对象。
- 情况2：类覆盖了 equals() 方法。一般覆盖 equals() 方法来比较两个对象的内容相等；若它们的内容相等，则返回 true (即，认为这两个对象相等)。

字符串常量池 [JDK1.7以后字符串常量池移到堆内存中] 

​	直接使用双引号声明出来的String对象会直接存储在常量池中。
​	如果不是用双引号声明的String对象，可以使用String提供的intern方法。intern 方法会从字符串常量池中查询当前字符串是否存在，若不存在就会将当前字符串放入常量池中。

**Java各种常量池（待补充）**

Integer常量池 [两种浮点型包装类没有常量池，其实也容易理解，浮点区间内连续无限，整型离散有限] -128~127

class常量池 

运行时常量池

面试题：String s = new String(“xyz”);产生几个对象？一个或两个，如果常量池中原来没有”xyz”,就是两个。 

## final 关键字

final关键字主要用在三个地方：变量、方法、类。

1. 对于一个final变量，如果是基本数据类型的变量，则其数值一旦在初始化之后便不能更改；如果是引用类型的变量，则在对其初始化之后便不能再让其指向另一个对象。
2. 当用final修饰一个类时，表明这个类不能被继承。final类中的所有成员方法都会被隐式地指定为final方法。
3. 使用final方法的原因有两个。第一个原因是把方法锁定，以防任何继承类修改它的含义；第二个原因是效率。在早期的Java实现版本中，会将final方法转为内嵌调用。但是如果方法过于庞大，可能看不到内嵌调用带来的任何性能提升（现在的Java版本已经不需要使用final方法进行这些优化了）。类中所有的private方法都隐式地指定为fianl。

## 子父类各个方法的调用先后顺序



牛客网Java校招面试题目合集

<https://www.nowcoder.com/ta/review-java>
